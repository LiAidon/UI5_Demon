<mvc:View 
    controllerName="ADTracker.controller.DevItemUpdate"
    xmlns="sap.m"
    xmlns:core="sap.ui.core"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:l="sap.ui.layout"
    xmlns:f="sap.ui.layout.form">
    <Page
        id="detailPage" 
        navButtonPress="onNavBack" 
        title="{i18n>detailUpdateTitle}" 
        backgroundDesign="Solid"
        showNavButton="true"
        busy="{view>/busy}" busyIndicatorDelay="{view>/delay}"
        >
        <content>
            <List id="detailList">
		        <InputListItem label="Item Number">  
		          <Input id="itemNumber" value="{devmodel>itmNum}" enabled="false"/>
		        </InputListItem>
		        
		        <InputListItem label="WK/WR number">  
		          <Input id="WRWKNum1" value="{devmodel>WRWKNum}" enabled="false"/>
		        </InputListItem>
		    
		        <InputListItem label="Release">  
		          <Select id="release1" selectedKey="{devmodel>releaseKey}" enabled="true"   forceSelection="false" change="_onReleaseChange"
			          items="{path: '/appConfigurationSet',
			            filters: [{ path: 'Type', operator: 'EQ', value1: 'RELEASE'},{ path: 'FilterKey', operator: 'EQ', value1: '02'}],
			            sorter: { path: 'Code' }}">
		          	<core:Item key="{Code}" text="{Value}" />
			      </Select>
		        </InputListItem>

				<InputListItem id="releaseDateLabel1" label="Release Date" visible="{path: 'devmodel>releaseKey', formatter: '.formatter.CheckReleaseDateVisible'}">
					<VBox>
						<DatePicker id="releaseDate1" 
									value="{devmodel>releaseDate}"
									valueFormat="yyyy/MM/dd" 
									displayFormat="long" 
									placeholder="YYYY/MM/DD"
									enabled="true" 
									editable="{path: 'devmodel>IsTRTransported', formatter: '.formatter.CheckIsTRTransported' }"
									visible="{path: 'devmodel>releaseKey', formatter: '.formatter.CheckReleaseDateVisible'}"
									change="_onNumberLiveChange">
						</DatePicker>
					</VBox>
		        </InputListItem>
					
		        <InputListItem label="Description">  
		          <Input id="title1" value="{devmodel>description}" enabled="true"/>
		        </InputListItem>
		        
 		        <InputListItem label="Development Approach">
		          <Select id="devApproach1" selectedKey="{devmodel>devApproach}" forceSelection="false" 
		          items="{
			            path: '/appConfigurationSet',
			            filters: [{ path: 'Type', operator: 'EQ', value1: 'APPROACH'}]
			          }" >
						<core:Item key="{Code}" text="{Value}" />
			      </Select>
		        </InputListItem>

 		        <InputListItem label="Priority">
		          <Select id="priority1" selectedKey="{devmodel>priority}" enabled="true" forceSelection="false"
			          items="{
			            path: '/appConfigurationSet',
			            filters: [{ path: 'Type', operator: 'EQ', value1: 'PRIORITY'}],
			            sorter: { path: 'Code' }
			          }">
		          	<core:Item key="{Code}" text="{Value}" />
			      </Select>
		        </InputListItem>
		        
<!-- 		        <InputListItem 
		          label="SAP System">
		          <Select id="SAPSystem1" selectedKey="{devmodel>system}" width="100px" enabled="true">
		          	<core:Item key="{devmodel>system}" text="{devmodel>system}" />
		          	<core:Item key="ECC" text="ECC" />
			        <core:Item key="CRM" text="CRM" />
			        <core:Item key="SRM" text="SRM" />
			        <core:Item key="AII" text="AII" />
			        <core:Item key="OER" text="OER" />
			        <core:Item key="GTS" text="GTS" />
			        <core:Item key="APO" text="APO" />
			        <core:Item key="HCM" text="HCM" />
			        <core:Item key="EHSM" text="EHSM" />
			        <core:Item key="Portal" text="Portal" />
			        <core:Item key="Others" text="Others" />
			      </Select>
		        </InputListItem> -->
		        
<!-- 		        <InputListItem 
		          label="RICEF">
		          <Select id="RICEF1" selectedKey="{devmodel>RICEF}" enabled="true">
		          	<core:Item key="{devmodel>RICEF}" text="{devmodel>RICEF}" />
		          	<core:Item key="Report" text="Report" />
			        <core:Item key="Interface" text="Interface" />
			        <core:Item key="Conversion" text="Conversion" />
			        <core:Item key="Enhancement" text="Enhancement" />
			        <core:Item key="MV45A" text="MV45A" />
			        <core:Item key="Form" text="Form" />
			        <core:Item key="WebDynpro" text="WebDynpro" />
			        <core:Item key="WorkFlow" text="WorkFlow" />
			        <core:Item key="EHS/WWI" text="EHS/WWI" />
			        <core:Item key="Others" text="Others" />
			      </Select>
		        </InputListItem> -->
		        
<!-- 		        <InputListItem 
		          label="Estimate ABAP Dev Days">
		          <Input id="estimateABAPDays1"
			        placeholder="Days"
			        value="{devmodel>estimateABAPDays}"
			        type="Number"
			        enabled="true" />
		        </InputListItem> -->	
		        
		        <InputListItem label="RPC sharepoint" visible="false">
						<Link text="RPC sharepoint link" target="_blank" emphasized="true" href="{view>/RPCLink}" class="sapUiTinyMarginEnd"/>
				</InputListItem>
				
				<InputListItem label="Dummy - FS Release Milestone Date" visible="false">  
		          <Select id="dummyReleaseMilestoneDate1" forceSelection="false"
			          items="{
			            path: '/appConfigurationSet',
			            filters: [{ path: 'Type', operator: 'EQ', value1: 'MSDATE'}],
			            sorter: { path: 'Code' }
			          }">
		          	<core:Item key="{Code}" text="{Value}" />
			      </Select>
		        </InputListItem>
		        
		        <InputListItem label="FS Release Milestone Date">
			        <VBox>
				      <DatePicker
						id="FSReleaseMilestoneDate1"
						value="{devmodel>FSMileStoneDate}" 
						valueFormat="yyyy/MM/dd" 
						placeholder="YYYY/MM/DD"
						displayFormat="long"
						editable= "false"/>
					</VBox>
		        </InputListItem>
		        
		        <InputListItem label="FS Promise Date">
	 		        <VBox>
						<DatePicker id="FSPromiseDate1" 
								  value="{devmodel>FSPromiseDate}"
								  valueFormat="yyyy/MM/dd" 
								  displayFormat="long"
								  placeholder="YYYY/MM/DD">
						</DatePicker>
					</VBox>
		        </InputListItem>
		        
		        <InputListItem label="FS Actual Receive Date">
		        	<VBox>
				      <DatePicker
						id="FSActualReceiveDate1"
						value="{devmodel>FSReceiveDate}" 
						valueFormat="yyyy/MM/dd" 
						placeholder="YYYY/MM/DD"
						displayFormat="long"/>
					</VBox>
		        </InputListItem>

	          	<InputListItem label="FS Link">
		          <Input id="FSLink1"
			        value="{devmodel>FSLink}"
			        enabled="true" />
		        </InputListItem>

	          	<InputListItem label="Charge Code">
		          	<HBox alignItems="Center" justifyContent="End">
			          <Input id="NetworkNumber1"
					         placeholder="Network"
						     enabled="true"
						     showValueHelp="true" 
						     value="{devmodel>chargeCode}"
						     valueHelpRequest="_onNetworkValueHelp" 
						     class="sapUiTinyMarginEnd"
						     />
			          <Input id="Activity1"
					         placeholder="Activity"
						     enabled="true" 
						     value="{devmodel>activity}"
						     showValueHelp="true" 
							valueHelpRequest="_onActivityValueHelp"/>
					</HBox>
		        </InputListItem>
		        
<!-- 		        <InputListItem 
		          label="Target Dev Complete Date">
			      <DatePicker
					id="targetDevCompleteDate1"
					value="{devmodel>planCompleteDate}" valueFormat="yyyy/MM/dd" displayFormat="long"/>
		        </InputListItem> -->

		        <InputListItem label="Functional Analyst">
		          <Select id="functionalAnalyst1"  selectedKey="{devmodel>functionalAnalyst}" enabled="true"   forceSelection="false"
			          	items="{
			            path: '/userRolesSet',
			            filters: [{ path: 'role', operator: 'EQ', value1: 'Functional Analyst'}],
			            sorter: { path: 'lastName' }
			          }">
		          	<core:Item key="{userID}" text="{lastName}  {firstName}" />
			      </Select>
		        </InputListItem> 
		        
		        <InputListItem label="Team Lead">
		          <Select id="teamLead1"  selectedKey="{devmodel>teamLead}" enabled="true"   forceSelection="false"
		          	items="{path: '/userRolesSet',
		            filters: [{ path: 'role', operator: 'EQ', value1: 'Team Lead'}],
		            sorter: { path: 'lastName' }}">
		          	<core:Item key="{userID}" text="{lastName}  {firstName}" />
			      </Select>
		        </InputListItem> 

		        <InputListItem label="Technical Lead">
		          <Select id="techLead1"  selectedKey="{devmodel>techLead}" enabled="true"  forceSelection="false"
		          	items="{path: '/userRolesSet',
		            filters: [{ path: 'role', operator: 'EQ', value1: 'Tech Lead'}],
		            sorter: { path: 'lastName' }}">
		          	<core:Item key="{userID}" text="{lastName}  {firstName}" />
			      </Select>
		        </InputListItem>  

		        <InputListItem label="ABAP Developer">
		          <Select id="Developer1"  selectedKey="{devmodel>developer}" enabled="true" forceSelection="false"
		          	items="{path: '/userRolesSet',
		            filters: [{ path: 'role', operator: 'EQ', value1: 'Developer'}],
		            sorter: { path: 'lastName' }}">
		          	<core:Item key="{userID}" text="{lastName}  {firstName}" />
			      </Select>
		        </InputListItem> 	
		        
		        <InputListItem label="Code Reviewer">
		          <Select id="codeReviewer1"  selectedKey="{devmodel>codeReviewer}" enabled="true"  forceSelection="false"
		          	items="{path: '/userRolesSet',filters: [{ path: 'role', operator: 'EQ', value1: 'Code Reviewer'}],sorter: { path: 'lastName' }}">
		          	<core:Item key="{userID}" text="{lastName}  {firstName}" />
			      </Select>
		        </InputListItem> 

		        <InputListItem label="Current Status">
		          <Select id="CurrentStatus1" selectedKey="{devmodel>overallStatus}" enabled="true"  forceSelection="false"
			          items="{path: '/appConfigurationSet', sorter: {path: 'Code'}}">
		          	<core:Item key="{Code}" text="{Value}" />
			      </Select>
		        </InputListItem>	          		          	          		          	          		           		          		          
		      </List>
        </content>
        <footer
            id="detailFooter">
            <Toolbar id="detailToolbar">
                <content>
                    <Button 
                    	id="shareEmail"
                    	text="Send EMail"
                    	tooltip="Manual Trigger Email"
                        press="onSendEmailPress" 
                        type = "Default"
                        icon="sap-icon://email"
                        >
                    	<!--visible="{path: 'devmodel>overallStatus', formatter: '.formatter.emailButtonVisible'}"-->
                    </Button>
                    <ToolbarSpacer />
                    <Button 
                        press="onDeleteDevItem" 
                        type = "Reject"
                        icon="sap-icon://delete">
                    </Button>
                    <ToolbarSpacer />
                    <Button 
                    	id="saveButton"
                        press="onSaveItemChange" 
                        type = "Accept"
                        icon="sap-icon://save">
                    </Button>

                </content>
            </Toolbar>
        </footer>
    </Page>
</mvc:View>